<div ng-if="acl.can('join_lecture')">
  <md-card ng-if="mainCtrl.my_rooms.length > 0">
    <md-card-content>
    <h3> Meine RÃ¤ume </h3>
    <md-list>
      <md-list-item ng-repeat="room in mainCtrl.room_names">
        <a ui-sref="room({roomId: room.id})">
          <fa name="arrow-right"> </fa>
          {{room.name}}
        </a>
      <md-divider></md-divider>
      </md-list-item>
    </md-list>
    </md-card-content>
  </md-card>

  <md-card>
    <md-card-content>
      <h3>Veranstaltung beitreten</h3>
      <md-input-container flex>
        <md-select placeholder="Raumname" ng-model="room_name">
          <md-option ng-repeat="room in mainCtrl.room_names" value="{{room}}">{{room}}</md-option>
        </md-select>
      </md-input-container>
      <md-input-container flex>
        <label>Password</label>
        <input type="password" ng-model="room_password" ng-keyup="$event.keyCode == 13 ? mainCtrl.joinRoom(room_name, room_password) : null">
      </md-input-container>
      <md-button class="md-primary md-raised" ng-click="mainCtrl.joinRoom(room_name, room_password)">beitreten</md-button>
  </md-card-content>
  </md-card>
</div>
<div ng-if="acl.can('create_room')">
  <md-card>
    <md-card-content>
      <h3> Veranstaltung erstellen</h3>
      <md-input-container flex>
        <input type="text" placeholder="Raumname" ng-model="room_name">
      </md-input-container>
      <md-input-container flex>
        <input type="password" placeholder="Password" ng-model="room_passkey">
      </md-input-container>
      <md-button class="md-primary md-raised" ng-click="mainCtrl.createRoom(room_name, room_passkey)">erstellen</md-button>
    </md-card-content>
  </md-card>
</div>

<div ng-if="acl.can('create_account')">
  <md-card>
    <md-card-content>
      <h3> Account erstellen</h3>
      <md-input-container flex>
        <input type="text" placeholder="Accountname" ng-model="account_name">
      </md-input-container>
      <md-input-container flex>
        <input type="password" placeholder="Password" ng-model="account_password">
      </md-input-container>
      <md-button class="md-primary md-raised" ng-click="mainCtrl.createAccount(account_name, account_password)">erstellen</md-button>
    </md-card-content>
  </md-card>
</div>

<div ng-if="acl.can('create_role')">
  <md-card>
    <md-card-content>
      <h3> Role erstellen</h3>
      <md-input-container flex>
        <input type="text" placeholder="Rollenname" ng-model="role_name">
      </md-input-container>
      <md-button class="md-primary md-raised" ng-click="mainCtrl.createRole(role_name)">erstellen</md-button>
    </md-card-content>
  </md-card>
</div>

<div ng-if="acl.can('edit_role')">
  <md-card>
    <md-card-content>
      <h3> Role bearbeiten</h3>
      <md-select placeholder="Rolenname" ng-model="role_nameEdit">
        <md-option ng-repeat="role in mainCtrl.all_roles">{{role.name}}</md-option>
      </md-select>
        <div layout="row" layout-wrap>
          <div flex="50" ng-repeat="right in mainCtrl.optionalRights">
            <md-checkbox ng-checked="exists(right, selectedRights)" ng-click="toggle(right, selectedRights)">
              {{ right }} <span ng-if="exists(right, selectedRights)" style="color: #339646">selected</span>
            </md-checkbox>
          </div>
        </div>
      </label>
      <md-button class="md-primary md-raised" ng-click="mainCtrl.editRole(role_nameEdit,selectedRights)">bearbeiten</md-button>
    </md-card-content>
  </md-card>
</div>

<div ng-if="acl.can('assign_role')">
  <md-card>
    <md-card-content>
      <h3> Rolle zuweisen </h3>
      <md-select placeholder="Rollenname" ng-model="role.name">
        <md-option ng-repeat="role in mainCtrl.all_roles">{{role.name}}</md-option>
      </md-select>
      <md-select placeholder="Nutzername" ng-model="user.name">
        <md-option ng-repeat="user in mainCtrl.all_users">{{user.name}}</md-option>
      </md-select>
      <md-button class="md-primary md-raised" ng-click="mainCtrl.assignRole(user.name,role.name)">erstellen</md-button>
    </md-card-content>
  </md-card>
</div>
